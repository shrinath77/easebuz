/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2026-02-27 06:58:42 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class checkout_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write('\r');
      out.write('\n');

    // Read amount from session (set by PaymentProcess); default to 0.00 for direct access
    String sessionAmt = (String) session.getAttribute("amount");
    double amtVal = 0.00;
    try { amtVal = Double.parseDouble(sessionAmt); } catch (Exception ignored) {}
    String amount    = String.format("%.2f", amtVal);
    String amt3mo    = String.format("%.2f", amtVal / 3);
    String amt6mo    = String.format("%.2f", amtVal / 6);
    String amt12mo   = String.format("%.2f", amtVal / 12);

      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("    <link rel=\"icon\" type=\"image/png\"\r\n");
      out.write("          href=\"");
      out.print(request.getContextPath());
      out.write("/images/splogo.png\" sizes=\"32x32\">\r\n");
      out.write("    <title>SP Transaction Hub - Trusted Business</title>\r\n");
      out.write("    <script src=\"https://code.jquery.com/jquery-3.6.0.min.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<style>\r\n");
      out.write("* {\r\n");
      out.write("    margin: 0;\r\n");
      out.write("    padding: 0;\r\n");
      out.write("    box-sizing: border-box;\r\n");
      out.write("    font-family: Arial, sans-serif;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("body {\r\n");
      out.write("    background: #f4f6f8;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".checkout-wrapper {\r\n");
      out.write("    width: 1000px;\r\n");
      out.write("    height: 590px;\r\n");
      out.write("    margin: 40px auto;\r\n");
      out.write("    display: flex;\r\n");
      out.write("    border-radius: 14px;\r\n");
      out.write("    overflow: hidden;\r\n");
      out.write("    box-shadow: 0 10px 35px rgba(0, 0, 0, 0.15);\r\n");
      out.write("    background: #fff;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("/* LEFT PANEL */\r\n");
      out.write(".left-panel {\r\n");
      out.write("    width: 35%;\r\n");
      out.write("    background: linear-gradient(135deg, #1f6f4a, #0d3f2b);\r\n");
      out.write("    color: white;\r\n");
      out.write("    padding: 30px;\r\n");
      out.write("    display: flex;\r\n");
      out.write("    flex-direction: column;\r\n");
      out.write("    justify-content: space-between;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".brand {\r\n");
      out.write("    display: flex;\r\n");
      out.write("    flex-direction: row;\r\n");
      out.write("    align-items: center;\r\n");
      out.write("    gap: 10px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".brand img.brand-logo {\r\n");
      out.write("    width: 60px;\r\n");
      out.write("    height: 60px;\r\n");
      out.write("    object-fit: contain;\r\n");
      out.write("    border-radius: 8px;\r\n");
      out.write("    flex-shrink: 0;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".brand-text h2 {\r\n");
      out.write("    font-size: 22px;\r\n");
      out.write("    font-weight: bold;\r\n");
      out.write("    line-height: 1.2;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".brand-text p {\r\n");
      out.write("    font-size: 12px;\r\n");
      out.write("    opacity: 0.9;\r\n");
      out.write("    margin-top: 3px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".price-box {\r\n");
      out.write("    background: rgba(255, 255, 255, 0.15);\r\n");
      out.write("    padding: 20px;\r\n");
      out.write("    border-radius: 12px;\r\n");
      out.write("    margin-top: 20px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".price-box p {\r\n");
      out.write("    font-size: 14px;\r\n");
      out.write("    opacity: 0.9;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".price-box h1 {\r\n");
      out.write("    margin-top: 8px;\r\n");
      out.write("    font-size: 38px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".user {\r\n");
      out.write("    margin-top: 20px;\r\n");
      out.write("    background: rgba(255, 255, 255, 0.1);\r\n");
      out.write("    padding: 12px;\r\n");
      out.write("    border-radius: 8px;\r\n");
      out.write("    font-size: 14px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".secured {\r\n");
      out.write("    font-size: 12px;\r\n");
      out.write("    opacity: 0.85;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("/* RIGHT PANEL */\r\n");
      out.write(".right-panel {\r\n");
      out.write("    width: 65%;\r\n");
      out.write("    padding: 25px;\r\n");
      out.write("    background: #ffffff;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".header {\r\n");
      out.write("    display: flex;\r\n");
      out.write("    justify-content: space-between;\r\n");
      out.write("    align-items: center;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".header h3 {\r\n");
      out.write("    font-size: 22px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".timer {\r\n");
      out.write("    font-weight: bold;\r\n");
      out.write("    color: #d32f2f;\r\n");
      out.write("    font-size: 16px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("/* PAYMENT LAYOUT */\r\n");
      out.write(".payment-container {\r\n");
      out.write("    display: flex;\r\n");
      out.write("    margin-top: 20px;\r\n");
      out.write("    height: 460px;\r\n");
      out.write("    border-top: 1px solid #eee;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".methods {\r\n");
      out.write("    width: 35%;\r\n");
      out.write("    border-right: 1px solid #eee;\r\n");
      out.write("    background: #fafafa;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".method {\r\n");
      out.write("    padding: 14px 16px;\r\n");
      out.write("    cursor: pointer;\r\n");
      out.write("    border-bottom: 1px solid #f1f1f1;\r\n");
      out.write("    font-weight: 500;\r\n");
      out.write("    font-size: 14px;\r\n");
      out.write("    transition: 0.2s;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".method:hover {\r\n");
      out.write("    background: #f1f5fb;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".active {\r\n");
      out.write("    background: #e8f0fe;\r\n");
      out.write("    font-weight: bold;\r\n");
      out.write("    color: #1a73e8;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".details {\r\n");
      out.write("    width: 65%;\r\n");
      out.write("    padding: 20px 25px;\r\n");
      out.write("    overflow-y: auto;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".details input, .details select {\r\n");
      out.write("    width: 100%;\r\n");
      out.write("    padding: 11px;\r\n");
      out.write("    margin-top: 12px;\r\n");
      out.write("    border: 1px solid #ddd;\r\n");
      out.write("    border-radius: 6px;\r\n");
      out.write("    font-size: 14px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".qr-box {\r\n");
      out.write("    text-align: center;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".qr-box img.qr {\r\n");
      out.write("    margin-top: 12px;\r\n");
      out.write("    border: 1px solid #eee;\r\n");
      out.write("    padding: 8px;\r\n");
      out.write("    border-radius: 8px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("/* UPI Logos */\r\n");
      out.write(".upi-logos {\r\n");
      out.write("    display: flex;\r\n");
      out.write("    justify-content: center;\r\n");
      out.write("    gap: 12px;\r\n");
      out.write("    margin-top: 15px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".upi-logos img {\r\n");
      out.write("    width: 45px;\r\n");
      out.write("    height: 45px;\r\n");
      out.write("    object-fit: contain;\r\n");
      out.write("    border-radius: 8px;\r\n");
      out.write("    background: #fff;\r\n");
      out.write("    padding: 5px;\r\n");
      out.write("    border: 1px solid #eee;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("/* Card Logos */\r\n");
      out.write(".card-logos {\r\n");
      out.write("    display: flex;\r\n");
      out.write("    gap: 10px;\r\n");
      out.write("    margin-bottom: 15px;\r\n");
      out.write("    align-items: center;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".card-logos img {\r\n");
      out.write("    width: 150px;\r\n");
      out.write("    height: 90px;\r\n");
      out.write("    object-fit: contain;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("/* ===================== BNPL STYLES ===================== */\r\n");
      out.write(".bnpl-header {\r\n");
      out.write("    text-align: center;\r\n");
      out.write("    margin-bottom: 12px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".bnpl-header h4 {\r\n");
      out.write("    font-size: 15px;\r\n");
      out.write("    color: #333;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".bnpl-header p {\r\n");
      out.write("    font-size: 12px;\r\n");
      out.write("    color: #888;\r\n");
      out.write("    margin-top: 3px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".bnpl-providers {\r\n");
      out.write("    display: flex;\r\n");
      out.write("    flex-wrap: wrap;\r\n");
      out.write("    gap: 8px;\r\n");
      out.write("    justify-content: center;\r\n");
      out.write("    margin-bottom: 10px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".bnpl-provider-btn {\r\n");
      out.write("    border: 2px solid #ddd;\r\n");
      out.write("    border-radius: 10px;\r\n");
      out.write("    padding: 7px 14px;\r\n");
      out.write("    cursor: pointer;\r\n");
      out.write("    font-size: 13px;\r\n");
      out.write("    font-weight: 600;\r\n");
      out.write("    background: #fff;\r\n");
      out.write("    transition: 0.2s;\r\n");
      out.write("    color: #333;\r\n");
      out.write("    min-width: 88px;\r\n");
      out.write("    text-align: center;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".bnpl-provider-btn:hover {\r\n");
      out.write("    border-color: #1a73e8;\r\n");
      out.write("    color: #1a73e8;\r\n");
      out.write("    background: #f0f6ff;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".bnpl-provider-btn.selected {\r\n");
      out.write("    border-color: #1a73e8;\r\n");
      out.write("    background: #e8f0fe;\r\n");
      out.write("    color: #1a73e8;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".bnpl-emi-box {\r\n");
      out.write("    background: #f9f9f9;\r\n");
      out.write("    border: 1px solid #eee;\r\n");
      out.write("    border-radius: 10px;\r\n");
      out.write("    padding: 10px 12px;\r\n");
      out.write("    margin-top: 10px;\r\n");
      out.write("    font-size: 13px;\r\n");
      out.write("    color: #444;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".bnpl-emi-box p {\r\n");
      out.write("    margin-bottom: 6px;\r\n");
      out.write("    font-weight: 600;\r\n");
      out.write("    color: #333;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".bnpl-emi-options {\r\n");
      out.write("    display: flex;\r\n");
      out.write("    gap: 8px;\r\n");
      out.write("    flex-wrap: wrap;\r\n");
      out.write("    margin-top: 4px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".emi-option {\r\n");
      out.write("    border: 1px solid #ccc;\r\n");
      out.write("    border-radius: 8px;\r\n");
      out.write("    padding: 6px 10px;\r\n");
      out.write("    cursor: pointer;\r\n");
      out.write("    font-size: 12px;\r\n");
      out.write("    background: #fff;\r\n");
      out.write("    transition: 0.2s;\r\n");
      out.write("    text-align: center;\r\n");
      out.write("    min-width: 72px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".emi-option:hover {\r\n");
      out.write("    border-color: #1a73e8;\r\n");
      out.write("    color: #1a73e8;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".emi-option.selected {\r\n");
      out.write("    border-color: #1a73e8;\r\n");
      out.write("    background: #e8f0fe;\r\n");
      out.write("    color: #1a73e8;\r\n");
      out.write("    font-weight: bold;\r\n");
      out.write("}\r\n");
      out.write("/* ====================================================== */\r\n");
      out.write("\r\n");
      out.write(".pay-btn {\r\n");
      out.write("    width: 100%;\r\n");
      out.write("    margin-top: 20px;\r\n");
      out.write("    padding: 14px;\r\n");
      out.write("    background: #3399cc;\r\n");
      out.write("    border: none;\r\n");
      out.write("    color: white;\r\n");
      out.write("    font-size: 17px;\r\n");
      out.write("    border-radius: 8px;\r\n");
      out.write("    cursor: pointer;\r\n");
      out.write("    transition: 0.3s;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".pay-btn:hover {\r\n");
      out.write("    background: #2a85b3;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".pay-btn:disabled {\r\n");
      out.write("    background: #aaa;\r\n");
      out.write("    cursor: not-allowed;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("#msg {\r\n");
      out.write("    margin-top: 18px;\r\n");
      out.write("    font-weight: bold;\r\n");
      out.write("    text-align: center;\r\n");
      out.write("    font-size: 15px;\r\n");
      out.write("}\r\n");
      out.write("</style>\r\n");
      out.write("</head>\r\n");
      out.write("\r\n");
      out.write("<body>\r\n");
      out.write("\r\n");
      out.write("<div class=\"checkout-wrapper\">\r\n");
      out.write("\r\n");
      out.write("    <!-- LEFT SIDE -->\r\n");
      out.write("    <div class=\"left-panel\">\r\n");
      out.write("        <div>\r\n");
      out.write("            <div class=\"brand\">\r\n");
      out.write("                <img class=\"brand-logo\" src=\"images/splogo.png\" alt=\"SP Logo\">\r\n");
      out.write("                <div class=\"brand-text\">\r\n");
      out.write("                    <h2>SP Transaction Hub</h2>\r\n");
      out.write("                    <p>Secure Payments</p>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("\r\n");
      out.write("            <div class=\"price-box\">\r\n");
      out.write("                <p>Price Summary</p>\r\n");
      out.write("                <h1>‚Çπ");
      out.print( amount );
      out.write("</h1>\r\n");
      out.write("            </div>\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("        <div class=\"secured\">üîí Secured by SP Transaction Hub</div>\r\n");
      out.write("    </div>\r\n");
      out.write("\r\n");
      out.write("    <!-- RIGHT SIDE -->\r\n");
      out.write("    <div class=\"right-panel\">\r\n");
      out.write("        <div class=\"header\">\r\n");
      out.write("            <h3>Payment Options</h3>\r\n");
      out.write("            <div class=\"timer\">\r\n");
      out.write("                ‚è≥ Time Left: <span id=\"countdown\">05:00</span>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("\r\n");
      out.write("        <div class=\"payment-container\">\r\n");
      out.write("\r\n");
      out.write("            <!-- METHODS -->\r\n");
      out.write("            <div class=\"methods\">\r\n");
      out.write("                <div class=\"method active\" onclick=\"selectMethod('upi', this)\">UPI (QR)</div>\r\n");
      out.write("                <div class=\"method\" onclick=\"selectMethod('card', this)\">Cards</div>\r\n");
      out.write("                <div class=\"method\" onclick=\"selectMethod('netbanking', this)\">Netbanking</div>\r\n");
      out.write("                <div class=\"method\" onclick=\"selectMethod('wallet', this)\">Wallet</div>\r\n");
      out.write("                <div class=\"method\" onclick=\"selectMethod('bnpl', this)\">\r\n");
      out.write("                    Buy Now Pay Later\r\n");
      out.write("                    <div style=\"font-size: 11px; color: #888; font-weight: normal; margin-top: 2px;\">EMI / No-Cost</div>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("\r\n");
      out.write("            <!-- DETAILS -->\r\n");
      out.write("            <div class=\"details\">\r\n");
      out.write("\r\n");
      out.write("                <!-- UPI SECTION -->\r\n");
      out.write("                <div id=\"upiSection\">\r\n");
      out.write("                    <div class=\"qr-box\">\r\n");
      out.write("                        <h4>Scan QR to Pay</h4>\r\n");
      out.write("                        <img class=\"qr\"\r\n");
      out.write("                            src=\"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=SPTransactionHubPayment\" />\r\n");
      out.write("                        <p style=\"margin-top: 10px;\">Scan with any UPI App</p>\r\n");
      out.write("                        <div class=\"upi-logos\">\r\n");
      out.write("                            <img src=\"images/googlepay.png\" alt=\"GPay\">\r\n");
      out.write("                            <img src=\"images/Phonepay.png\" alt=\"PhonePe\">\r\n");
      out.write("                            <img src=\"images/Paytm.png\" alt=\"Paytm\">\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("\r\n");
      out.write("                <!-- CARD SECTION -->\r\n");
      out.write("                <div id=\"cardSection\" style=\"display: none;\">\r\n");
      out.write("                    <div class=\"card-logos\">\r\n");
      out.write("                        <img src=\"images/Visa.png\" alt=\"Visa\">\r\n");
      out.write("                        <img src=\"images/Mastercard.png\" alt=\"Mastercard\">\r\n");
      out.write("                        <img src=\"images/Rupay.png\" alt=\"RuPay\">\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <input type=\"text\"     id=\"cardNumber\" placeholder=\"Card Number\"      maxlength=\"19\">\r\n");
      out.write("                    <input type=\"text\"     id=\"cardName\"   placeholder=\"Card Holder Name\">\r\n");
      out.write("                    <input type=\"text\"     id=\"cardExpiry\" placeholder=\"MM/YY\"            maxlength=\"5\">\r\n");
      out.write("                    <input type=\"password\" id=\"cvv\"        placeholder=\"CVV\"              maxlength=\"3\">\r\n");
      out.write("                </div>\r\n");
      out.write("\r\n");
      out.write("                <!-- NETBANKING SECTION -->\r\n");
      out.write("                <div id=\"netbankingSection\" style=\"display: none;\">\r\n");
      out.write("                    <select id=\"bank\">\r\n");
      out.write("                        <option value=\"\">Select Bank</option>\r\n");
      out.write("                        <option value=\"HDFC\">HDFC Bank</option>\r\n");
      out.write("                        <option value=\"SBI\">SBI</option>\r\n");
      out.write("                        <option value=\"ICICI\">ICICI Bank</option>\r\n");
      out.write("                        <option value=\"AXIS\">Axis Bank</option>\r\n");
      out.write("                    </select>\r\n");
      out.write("                </div>\r\n");
      out.write("\r\n");
      out.write("                <!-- WALLET SECTION -->\r\n");
      out.write("                <div id=\"walletSection\" style=\"display: none;\">\r\n");
      out.write("                    <select id=\"wallet\">\r\n");
      out.write("                        <option value=\"\">Select Wallet</option>\r\n");
      out.write("                        <option value=\"paytm\">Paytm Wallet</option>\r\n");
      out.write("                        <option value=\"amazonpay\">Amazon Pay</option>\r\n");
      out.write("                        <option value=\"mobikwik\">MobiKwik</option>\r\n");
      out.write("                        <option value=\"freecharge\">FreeCharge</option>\r\n");
      out.write("                    </select>\r\n");
      out.write("                    <input type=\"text\" id=\"walletMobile\" placeholder=\"Registered Mobile Number\" maxlength=\"10\">\r\n");
      out.write("                </div>\r\n");
      out.write("\r\n");
      out.write("                <!-- BNPL SECTION -->\r\n");
      out.write("                <div id=\"bnplSection\" style=\"display: none;\">\r\n");
      out.write("\r\n");
      out.write("                    <div class=\"bnpl-header\">\r\n");
      out.write("                        <h4>Buy Now, Pay Later</h4>\r\n");
      out.write("                        <p>Select a provider and choose your EMI plan</p>\r\n");
      out.write("                    </div>\r\n");
      out.write("\r\n");
      out.write("                    <!-- Provider Buttons -->\r\n");
      out.write("                    <div class=\"bnpl-providers\">\r\n");
      out.write("                        <div class=\"bnpl-provider-btn\" onclick=\"selectBNPLProvider('simpl', this)\">Simpl</div>\r\n");
      out.write("                        <div class=\"bnpl-provider-btn\" onclick=\"selectBNPLProvider('lazypay', this)\">LazyPay</div>\r\n");
      out.write("                        <div class=\"bnpl-provider-btn\" onclick=\"selectBNPLProvider('zestmoney', this)\">ZestMoney</div>\r\n");
      out.write("                        <div class=\"bnpl-provider-btn\" onclick=\"selectBNPLProvider('olamoney', this)\">Ola Money</div>\r\n");
      out.write("                    </div>\r\n");
      out.write("\r\n");
      out.write("                    <!-- Mobile & PAN -->\r\n");
      out.write("                    <input type=\"text\" id=\"bnplMobile\" placeholder=\"Registered Mobile Number\" maxlength=\"10\">\r\n");
      out.write("                    <input type=\"text\" id=\"bnplPan\"    placeholder=\"PAN Number (optional)\"    maxlength=\"10\"\r\n");
      out.write("                           style=\"text-transform: uppercase;\">\r\n");
      out.write("\r\n");
      out.write("                    <!-- EMI Plans -->\r\n");
      out.write("                    <div class=\"bnpl-emi-box\">\r\n");
      out.write("                        <p>Choose EMI Plan:</p>\r\n");
      out.write("                        <div class=\"bnpl-emi-options\">\r\n");
      out.write("                            <div class=\"emi-option\" onclick=\"selectEMI('1', this)\">\r\n");
      out.write("                                Pay Full<br><small>‚Çπ");
      out.print( amount );
      out.write("</small>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"emi-option\" onclick=\"selectEMI('3', this)\">\r\n");
      out.write("                                3 Months<br><small>‚Çπ");
      out.print( amt3mo );
      out.write("/mo</small>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"emi-option\" onclick=\"selectEMI('6', this)\">\r\n");
      out.write("                                6 Months<br><small>‚Çπ");
      out.print( amt6mo );
      out.write("/mo</small>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"emi-option\" onclick=\"selectEMI('12', this)\">\r\n");
      out.write("                                12 Months<br><small>‚Çπ");
      out.print( amt12mo );
      out.write("/mo</small>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("\r\n");
      out.write("                </div>\r\n");
      out.write("                <!-- END BNPL SECTION -->\r\n");
      out.write("\r\n");
      out.write("                <button class=\"pay-btn\" id=\"payBtn\" onclick=\"payNow()\">Pay ‚Çπ");
      out.print( amount );
      out.write("</button>\r\n");
      out.write("                <div id=\"msg\"></div>\r\n");
      out.write("            </div>\r\n");
      out.write("\r\n");
      out.write("        </div>\r\n");
      out.write("    </div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<script>\r\n");
      out.write("const AMOUNT         = \"");
      out.print( amount );
      out.write("\";   // injected from session by JSP\r\n");
      out.write("let selectedMethod   = \"upi\";\r\n");
      out.write("let selectedProvider = \"\";\r\n");
      out.write("let selectedEMI      = \"\";\r\n");
      out.write("\r\n");
      out.write("console.log(\"[CHECKOUT] Page Loaded - Default Method: UPI\");\r\n");
      out.write("\r\n");
      out.write("// =============================================\r\n");
      out.write("// API ENDPOINTS ‚Äî FILL THESE WHEN READY\r\n");
      out.write("// =============================================\r\n");
      out.write("const API_ENDPOINTS = {\r\n");
      out.write("    upi:        \"checkout\",\r\n");
      out.write("    card:       \"checkout\",\r\n");
      out.write("    netbanking: \"checkout\",\r\n");
      out.write("    wallet:     \"checkout\",\r\n");
      out.write("    bnpl:       \"checkout\"\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("// =============================================\r\n");
      out.write("// AUTH TOKEN (if needed)\r\n");
      out.write("// =============================================\r\n");
      out.write("const AUTH_TOKEN = \"\"; // TODO: Add Bearer token or API key if required\r\n");
      out.write("\r\n");
      out.write("// =============================================\r\n");
      out.write("// METHOD SWITCHER\r\n");
      out.write("// =============================================\r\n");
      out.write("function selectMethod(method, element) {\r\n");
      out.write("    console.log(\"[CHECKOUT] Payment Method Selected:\", method);\r\n");
      out.write("    selectedMethod = method;\r\n");
      out.write("\r\n");
      out.write("    document.querySelectorAll(\".method\").forEach(el => el.classList.remove(\"active\"));\r\n");
      out.write("    element.classList.add(\"active\");\r\n");
      out.write("\r\n");
      out.write("    document.getElementById(\"upiSection\").style.display        = \"none\";\r\n");
      out.write("    document.getElementById(\"cardSection\").style.display       = \"none\";\r\n");
      out.write("    document.getElementById(\"netbankingSection\").style.display = \"none\";\r\n");
      out.write("    document.getElementById(\"walletSection\").style.display     = \"none\";\r\n");
      out.write("    document.getElementById(\"bnplSection\").style.display       = \"none\";\r\n");
      out.write("\r\n");
      out.write("    if      (method === \"upi\")        document.getElementById(\"upiSection\").style.display        = \"block\";\r\n");
      out.write("    else if (method === \"card\")       document.getElementById(\"cardSection\").style.display       = \"block\";\r\n");
      out.write("    else if (method === \"netbanking\") document.getElementById(\"netbankingSection\").style.display = \"block\";\r\n");
      out.write("    else if (method === \"wallet\")     document.getElementById(\"walletSection\").style.display     = \"block\";\r\n");
      out.write("    else if (method === \"bnpl\")       document.getElementById(\"bnplSection\").style.display       = \"block\";\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// =============================================\r\n");
      out.write("// BNPL ‚Äî PROVIDER SELECTOR\r\n");
      out.write("// =============================================\r\n");
      out.write("function selectBNPLProvider(provider, element) {\r\n");
      out.write("    console.log(\"[BNPL] Provider Selected:\", provider);\r\n");
      out.write("    selectedProvider = provider;\r\n");
      out.write("    document.querySelectorAll(\".bnpl-provider-btn\").forEach(el => el.classList.remove(\"selected\"));\r\n");
      out.write("    element.classList.add(\"selected\");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// =============================================\r\n");
      out.write("// BNPL ‚Äî EMI PLAN SELECTOR\r\n");
      out.write("// =============================================\r\n");
      out.write("function selectEMI(months, element) {\r\n");
      out.write("    console.log(\"[BNPL] EMI Plan Selected:\", months, \"month(s)\");\r\n");
      out.write("    selectedEMI = months;\r\n");
      out.write("    document.querySelectorAll(\".emi-option\").forEach(el => el.classList.remove(\"selected\"));\r\n");
      out.write("    element.classList.add(\"selected\");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// =============================================\r\n");
      out.write("// COUNTDOWN TIMER\r\n");
      out.write("// =============================================\r\n");
      out.write("let timeLeft = 300;\r\n");
      out.write("function startTimer() {\r\n");
      out.write("    console.log(\"[CHECKOUT] Timer Started: 5 Minutes\");\r\n");
      out.write("    const countdown = document.getElementById(\"countdown\");\r\n");
      out.write("\r\n");
      out.write("    const timer = setInterval(function () {\r\n");
      out.write("        let minutes = Math.floor(timeLeft / 60);\r\n");
      out.write("        let seconds = timeLeft % 60;\r\n");
      out.write("        seconds = seconds < 10 ? \"0\" + seconds : seconds;\r\n");
      out.write("        countdown.innerText = minutes + \":\" + seconds;\r\n");
      out.write("\r\n");
      out.write("        if (timeLeft <= 0) {\r\n");
      out.write("            clearInterval(timer);\r\n");
      out.write("            console.error(\"[CHECKOUT] Session Expired\");\r\n");
      out.write("            document.getElementById(\"msg\").innerHTML =\r\n");
      out.write("                \"<span style='color:red;'>Session Expired! Please refresh the page.</span>\";\r\n");
      out.write("            document.getElementById(\"payBtn\").disabled = true;\r\n");
      out.write("        }\r\n");
      out.write("        timeLeft--;\r\n");
      out.write("    }, 1000);\r\n");
      out.write("}\r\n");
      out.write("startTimer();\r\n");
      out.write("\r\n");
      out.write("// =============================================\r\n");
      out.write("// BUILD PAYLOAD PER METHOD\r\n");
      out.write("// =============================================\r\n");
      out.write("function buildPayload() {\r\n");
      out.write("    if (selectedMethod === \"upi\") {\r\n");
      out.write("        return {\r\n");
      out.write("            method: \"upi\",\r\n");
      out.write("            amount: AMOUNT\r\n");
      out.write("        };\r\n");
      out.write("    } else if (selectedMethod === \"card\") {\r\n");
      out.write("        return {\r\n");
      out.write("            method:     \"card\",\r\n");
      out.write("            amount:     AMOUNT,\r\n");
      out.write("            cardNumber: $(\"#cardNumber\").val(),\r\n");
      out.write("            cardName:   $(\"#cardName\").val(),\r\n");
      out.write("            cardExpiry: $(\"#cardExpiry\").val(),\r\n");
      out.write("            cvv:        $(\"#cvv\").val()\r\n");
      out.write("        };\r\n");
      out.write("    } else if (selectedMethod === \"netbanking\") {\r\n");
      out.write("        return {\r\n");
      out.write("            method: \"netbanking\",\r\n");
      out.write("            amount: AMOUNT,\r\n");
      out.write("            bank:   $(\"#bank\").val()\r\n");
      out.write("        };\r\n");
      out.write("    } else if (selectedMethod === \"wallet\") {\r\n");
      out.write("        return {\r\n");
      out.write("            method:       \"wallet\",\r\n");
      out.write("            amount:       AMOUNT,\r\n");
      out.write("            walletType:   $(\"#wallet\").val(),\r\n");
      out.write("            mobileNumber: $(\"#walletMobile\").val()\r\n");
      out.write("        };\r\n");
      out.write("    } else if (selectedMethod === \"bnpl\") {\r\n");
      out.write("        return {\r\n");
      out.write("            method:       \"bnpl\",\r\n");
      out.write("            amount:       AMOUNT,\r\n");
      out.write("            provider:     selectedProvider,\r\n");
      out.write("            mobileNumber: $(\"#bnplMobile\").val(),\r\n");
      out.write("            pan:          $(\"#bnplPan\").val().toUpperCase(),\r\n");
      out.write("            emiMonths:    selectedEMI\r\n");
      out.write("        };\r\n");
      out.write("    }\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// =============================================\r\n");
      out.write("// FRONT-END VALIDATION\r\n");
      out.write("// =============================================\r\n");
      out.write("function validate() {\r\n");
      out.write("    if (selectedMethod === \"card\") {\r\n");
      out.write("        if (!$(\"#cardNumber\").val() || !$(\"#cardName\").val() ||\r\n");
      out.write("            !$(\"#cvv\").val()        || !$(\"#cardExpiry\").val()) {\r\n");
      out.write("            $(\"#msg\").html(\"<span style='color:orange;'>‚ö†Ô∏è Please fill all card details.</span>\");\r\n");
      out.write("            return false;\r\n");
      out.write("        }\r\n");
      out.write("    }\r\n");
      out.write("    if (selectedMethod === \"netbanking\" && !$(\"#bank\").val()) {\r\n");
      out.write("        $(\"#msg\").html(\"<span style='color:orange;'>‚ö†Ô∏è Please select a bank.</span>\");\r\n");
      out.write("        return false;\r\n");
      out.write("    }\r\n");
      out.write("    if (selectedMethod === \"wallet\") {\r\n");
      out.write("        if (!$(\"#wallet\").val() || !$(\"#walletMobile\").val()) {\r\n");
      out.write("            $(\"#msg\").html(\"<span style='color:orange;'>‚ö†Ô∏è Please select wallet and enter mobile number.</span>\");\r\n");
      out.write("            return false;\r\n");
      out.write("        }\r\n");
      out.write("    }\r\n");
      out.write("    if (selectedMethod === \"bnpl\") {\r\n");
      out.write("        if (!selectedProvider) {\r\n");
      out.write("            $(\"#msg\").html(\"<span style='color:orange;'>‚ö†Ô∏è Please select a BNPL provider.</span>\");\r\n");
      out.write("            return false;\r\n");
      out.write("        }\r\n");
      out.write("        if (!$(\"#bnplMobile\").val() || $(\"#bnplMobile\").val().length !== 10) {\r\n");
      out.write("            $(\"#msg\").html(\"<span style='color:orange;'>‚ö†Ô∏è Please enter a valid 10-digit mobile number.</span>\");\r\n");
      out.write("            return false;\r\n");
      out.write("        }\r\n");
      out.write("        if (!selectedEMI) {\r\n");
      out.write("            $(\"#msg\").html(\"<span style='color:orange;'>‚ö†Ô∏è Please select an EMI plan.</span>\");\r\n");
      out.write("            return false;\r\n");
      out.write("        }\r\n");
      out.write("    }\r\n");
      out.write("    return true;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// =============================================\r\n");
      out.write("// PAY NOW ‚Äî AJAX CALL\r\n");
      out.write("// =============================================\r\n");
      out.write("function payNow() {\r\n");
      out.write("    console.log(\"[PAYMENT] Initiating | Method:\", selectedMethod, \"| Amount: ‚Çπ\" + AMOUNT);\r\n");
      out.write("\r\n");
      out.write("    if (!API_ENDPOINTS[selectedMethod]) {\r\n");
      out.write("        console.warn(\"[PAYMENT] API endpoint not set for:\", selectedMethod);\r\n");
      out.write("        $(\"#msg\").html(\"<span style='color:orange;'>‚ö†Ô∏è API not configured yet for: <b>\" + selectedMethod.toUpperCase() + \"</b></span>\");\r\n");
      out.write("        return;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    if (!validate()) return;\r\n");
      out.write("\r\n");
      out.write("    $(\"#payBtn\").prop(\"disabled\", true).text(\"Processing...\");\r\n");
      out.write("    $(\"#msg\").html(\"<span style='color:#555;'>‚è≥ Please wait...</span>\");\r\n");
      out.write("\r\n");
      out.write("    let headers = { \"Content-Type\": \"application/json\" };\r\n");
      out.write("    if (AUTH_TOKEN) headers[\"Authorization\"] = \"Bearer \" + AUTH_TOKEN;\r\n");
      out.write("\r\n");
      out.write("    $.ajax({\r\n");
      out.write("        url:         API_ENDPOINTS[selectedMethod],\r\n");
      out.write("        type:        \"POST\",\r\n");
      out.write("        contentType: \"application/json\",\r\n");
      out.write("        headers:     headers,\r\n");
      out.write("        data:        JSON.stringify(buildPayload()),\r\n");
      out.write("\r\n");
      out.write("        success: function(response) {\r\n");
      out.write("            console.log(\"[PAYMENT] Success Response:\", response);\r\n");
      out.write("            $(\"#payBtn\").prop(\"disabled\", false).text(\"Pay ‚Çπ\" + AMOUNT);\r\n");
      out.write("            $(\"#msg\").html(\"<span style='color:green;'>‚úÖ \" + (response.message || \"Payment Successful!\") + \"</span>\");\r\n");
      out.write("        },\r\n");
      out.write("\r\n");
      out.write("        error: function(xhr, status, error) {\r\n");
      out.write("            console.error(\"[PAYMENT] Failed | Status:\", xhr.status, \"| Error:\", error);\r\n");
      out.write("            $(\"#payBtn\").prop(\"disabled\", false).text(\"Pay ‚Çπ\" + AMOUNT);\r\n");
      out.write("            let errMsg = \"Payment Failed. Please try again.\";\r\n");
      out.write("            if (xhr.responseJSON && xhr.responseJSON.message) errMsg = xhr.responseJSON.message;\r\n");
      out.write("            $(\"#msg\").html(\"<span style='color:red;'>‚ùå \" + errMsg + \"</span>\");\r\n");
      out.write("        }\r\n");
      out.write("    });\r\n");
      out.write("}\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("</body>\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
